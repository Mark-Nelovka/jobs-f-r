(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3697:function(t,e,a){"use strict";var i,n=a(7294);function r(){return(r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var s=function(t){return n.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",width:13,height:18,viewBox:"0 0 23 32"},t),i||(i=n.createElement("path",{fill:"#878d9d",d:"M11.556 32S0 21.281 0 12.444 5.174 0 11.556 0c6.382 0 11.556 3.608 11.556 12.444S11.556 32 11.556 32zm0-14.222a6.222 6.222 0 1 0 0-12.445 6.222 6.222 0 0 0 0 12.445z"})))};e.Z=s},9007:function(t,e,a){"use strict";var i,n=a(7294);function r(){return(r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var s=function(t){return n.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",width:16,height:20,viewBox:"0 0 25 32"},t),i||(i=n.createElement("path",{stroke:"#70778b",strokeWidth:2.783,d:"M1.391 5.565a3.71 3.71 0 0 1 3.71-3.71h14.841a3.71 3.71 0 0 1 3.71 3.71v22.252c0 1.622-1.935 2.463-3.121 1.356l-6.743-6.296a1.856 1.856 0 0 0-2.532 0l-6.743 6.296c-1.186 1.107-3.121.266-3.121-1.356V5.565z"})))};e.Z=s},8312:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(9011)}])},5333:function(t,e,a){"use strict";a.d(e,{Z:function(){return n}});var i=a(594);async function n(t){let{action:e,id:a,save:n}=t,{data:r}=await i.Z.patch("https://jobs-back.onrender.com",{action:e,id:a,save:n});return r}},595:function(t,e,a){"use strict";function i(t){let e=[],a=new Date,i=t.map(t=>{let a=new Date(t.createdAt).getTime().toString();return e.push(a),{...t,createdAt:a}}),n=e.sort((t,e)=>+e-+t).map(t=>{let e=i.find(e=>e.createdAt===t),a=new Date(+e.createdAt).toJSON();return{...e,createdAt:a}}).map(t=>{let e=new Date(t.createdAt),i=a.getFullYear()-e.getFullYear();if(i>0)return{...t,createdAt:"Posted ".concat(i," years ago")};let n=a.getMonth()-e.getMonth();if(n>0)return{...t,createdAt:"Posted ".concat(n," months ago")};let r=a.getDate()-e.getDate();return r>0?{...t,createdAt:"Posted ".concat(r," days ago")}:{...t,createdAt:"Posted today"}});return n}a.d(e,{Z:function(){return i}})},9011:function(t,e,a){"use strict";a.r(e),a.d(e,{__N_SSP:function(){return k},default:function(){return E}});var i,n,r=a(5893),s=a(1664),l=a.n(s),c=a(2918),o=a(5675),g=a.n(o),d=a(7294),u=a(4508),h=a(5333),_=a(594);async function m(t){let{action:e,id:a,title:i}=t,{data:n}=await _.Z.patch("https://jobs-back.onrender.com",{action:e,id:a,rating:i});return n}var p=a(595),j=a(1533),v=a.n(j);function f(){return(f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var x=function(t){return d.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:14,height:18,viewBox:"0 0 21 32"},t),i||(i=d.createElement("path",{fill:"#7D859C",d:"M18.662 2.69a3.765 3.765 0 0 0-5.324 0L2.69 13.338a3.765 3.765 0 0 0 0 5.324L13.338 29.31a3.765 3.765 0 0 0 5.324-5.324L10.676 16l7.986-7.986a3.765 3.765 0 0 0 0-5.324z"})))};function b(){return(b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var w=function(t){return d.createElement("svg",b({xmlns:"http://www.w3.org/2000/svg",width:14,height:18,viewBox:"0 0 21 32"},t),n||(n=d.createElement("path",{fill:"#7D859C",d:"M2.671 2.69a3.765 3.765 0 0 1 5.324 0l10.648 10.648a3.765 3.765 0 0 1 0 5.324L7.995 29.31a3.765 3.765 0 0 1-5.324-5.324L10.657 16 2.671 8.014a3.765 3.765 0 0 1 0-5.324z"})))};let N=t=>{let{getItem:e}=t,[a,i]=(0,d.useState)(1),[n,s]=(0,d.useState)([]),[l,c]=(0,d.useState)([]),o=(0,u.j1)("allItems");(0,d.useEffect)(()=>{let t=[];if(0===n.length){let e=o[0].length/5;for(let a=1;a<e+1;a+=1)t.push(a);s(t),c(t.slice(0,5))}},[o,n.length]);let g=t=>{let{ariaLabel:r,id:s}=t.currentTarget;switch(r){case"increment":if(a===n.length){v().Notify.info("This page is last");return}if(i(t=>t+1),e(+s+1),a+1>l[l.length-1]){c(n.slice(+s,+s+5));return}break;case"decrement":if(1===a)return;if(i(t=>t-1),e(+s-1),a-1<l[0]){c(n.slice(+s-6,+s-1));return}break;default:i(+s),e(+s),+s===n.length&&c(n.slice(n[n.length-6],n[n.length]))}};return(0,r.jsxs)("div",{className:"pagination-container",children:[(0,r.jsx)("button",{onClick:g,className:"pagination__arrow-left-button","aria-label":"decrement",id:String(a),children:(0,r.jsx)(x,{alt:"arrow left",width:"14",height:"18",id:String(a)})}),(0,r.jsxs)("ul",{className:"pagination__number-list",children:[l.map((t,e)=>(0,r.jsx)("li",{onClick:g,id:String(t),className:a===t?"pagination__number-list__item--active":"pagination__number-list__item ",children:t},e)),!l.includes(n[n.length-3])&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("li",{children:l.includes(n[n.length-3])?o[0].length-1:"..."}),(0,r.jsx)("li",{id:String(n.length),className:a===n.length?"pagination__number-list__item--active":"pagination__number-list__item ",onClick:g,children:n.length})]})]}),(0,r.jsx)("button",{onClick:g,className:"pagination__arrow-right-button",id:String(a),"aria-label":"increment",children:(0,r.jsx)(w,{id:String(a),alt:"arrow right",width:"14",height:"18"})})]})};var S=a(501),y=a(3697),O=a(9007),k=!0;function E(t){let{status:e,data:a}=t,[i,n]=(0,d.useState)(0),[s,o]=(0,d.useState)(5),[_,j]=(0,d.useState)("idle"),v=(0,u.j1)("allItems");(0,d.useEffect)(()=>{if(j("loading"),200===e&&0===v[0].length){let t=function(t){let e=t.map(t=>({...t,save:!0===t.saved,rating:"0"===t.rating?"0":t.rating}));return e}(a),i=(0,p.Z)(t);(0,u.bU)("allItems",i),j("resolve");return}if(200!==e){j("rejected");return}j("resolve")},[a,e,v]);let f=async t=>{let{title:e}=t.target,{id:a}=t.currentTarget,i=v[0].map(t=>t._id===a?{...t,rating:e}:t);(0,u.bU)("allItems",i),await m({id:a,title:e,action:"rating"})},x=async t=>{let{id:e,dataset:a}=t.currentTarget,i=v[0].map(t=>t._id===e?{...t,saved:!JSON.parse(a.saved)}:t);(0,u.bU)("allItems",i),await (0,h.Z)({action:"save",id:e,save:JSON.parse(a.saved)})},b=t=>{let e=5*t,i=e-5;if(t===a.length||e>v.length){n(i),o(e);return}n(i),o(e)};return(0,r.jsxs)("main",{children:["loading"===_&&(0,r.jsx)(S.Z,{}),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("section",{className:"section",children:["idle"===_&&"waiting to fething","resolve"===_&&(0,r.jsxs)("div",{className:"job-container",children:[(0,r.jsx)("ul",{className:"job-list",children:v[0].slice(i,s).map(t=>{let{_id:e,pictures:a,title:i,name:n,address:s,createdAt:c,saved:o,rating:d}=t;return(0,r.jsxs)("li",{className:"job-list__item",children:[(0,r.jsx)("div",{className:"job-list__image-container",children:(0,r.jsx)(g(),{src:a[0],alt:"img",width:85,height:85})}),(0,r.jsxs)("div",{className:"job-list__info-container",children:[(0,r.jsxs)("div",{className:"star-rating-sm",children:[(0,r.jsxs)("div",{onClick:f,id:String(e),className:"star-rating__wrap",children:[(0,r.jsx)("input",{className:"star-rating__input",type:"radio",name:"rating",value:"5",id:String(e)}),(0,r.jsx)("label",{className:"5"===d?"star-rating__ico--active":"star-rating__ico",htmlFor:String(e),title:"5",id:String(e)}),(0,r.jsx)("input",{className:"star-rating__input",type:"radio",name:"rating",value:"4",id:String(e)}),(0,r.jsx)("label",{className:d>="4"?"star-rating__ico--active":"star-rating__ico",htmlFor:String(e),title:"4",id:String(e)}),(0,r.jsx)("input",{className:"star-rating__input",id:String(e),type:"radio",name:"rating",value:"3"}),(0,r.jsx)("label",{className:d>="3"?"star-rating__ico--active":"star-rating__ico",htmlFor:String(e),title:"3",id:String(e)}),(0,r.jsx)("input",{className:"star-rating__input",id:String(e),type:"radio",name:"rating",value:"2"}),(0,r.jsx)("label",{className:d>="2"?"star-rating__ico--active":"star-rating__ico",htmlFor:String(e),title:"2"}),(0,r.jsx)("input",{className:"star-rating__input",id:String(e),type:"radio",name:"rating",value:"1"}),(0,r.jsx)("label",{className:d>="1"?"star-rating__ico--active":"star-rating__ico",htmlFor:"star-rating-1",title:"1",id:String(e)})]}),(0,r.jsx)("div",{className:"job-list__save-container-sm",children:(0,r.jsx)("p",{children:c})})]}),(0,r.jsxs)("div",{className:"job-list__title-container",children:[(0,r.jsx)(l(),{href:"/".concat(e),children:i}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:n}),(0,r.jsx)("span",{children:s})]}),(0,r.jsxs)("p",{className:"job-list__location-container",children:[(0,r.jsx)("span",{children:(0,r.jsx)(y.Z,{width:13,height:18,alt:"location icon"})}),(0,r.jsx)("span",{children:"Vienna, Austria"})]})]})]}),(0,r.jsx)("div",{className:"star-rating",children:(0,r.jsxs)("div",{onClick:f,id:String(e),className:"star-rating__wrap",children:[(0,r.jsx)("input",{className:"star-rating__input",type:"radio",name:"rating",value:"5",id:String(e)}),(0,r.jsx)("label",{className:"5"===d?"star-rating__ico--active":"star-rating__ico",htmlFor:String(e),title:"5",id:String(e)}),(0,r.jsx)("input",{className:"star-rating__input",type:"radio",name:"rating",value:"4",id:String(e)}),(0,r.jsx)("label",{className:d>="4"?"star-rating__ico--active":"star-rating__ico",htmlFor:String(e),title:"4",id:String(e)}),(0,r.jsx)("input",{className:"star-rating__input",id:String(e),type:"radio",name:"rating",value:"3"}),(0,r.jsx)("label",{className:d>="3"?"star-rating__ico--active":"star-rating__ico",htmlFor:String(e),title:"3",id:String(e)}),(0,r.jsx)("input",{className:"star-rating__input",id:String(e),type:"radio",name:"rating",value:"2"}),(0,r.jsx)("label",{className:d>="2"?"star-rating__ico--active":"star-rating__ico",htmlFor:String(e),title:"2"}),(0,r.jsx)("input",{className:"star-rating__input",id:String(e),type:"radio",name:"rating",value:"1"}),(0,r.jsx)("label",{className:d>="1"?"star-rating__ico--active":"star-rating__ico",htmlFor:"star-rating-1",title:"1",id:String(e)})]})}),(0,r.jsxs)("div",{className:"job-list__save-container",children:[(0,r.jsx)("button",{onClick:x,id:e,"data-saved":o,children:(0,r.jsx)(O.Z,{"data-saved":o,width:16,height:20,alt:"Save icon",className:o?"job-list__save-icon--save":"job-list__save-icon"})}),(0,r.jsx)("p",{children:c})]})]},e)})}),(0,r.jsx)(N,{getItem:t=>b(t)})]})]})}),"rejected"===_&&(0,r.jsx)(c.default,{statusCode:e})]})}},4508:function(t,e,a){"use strict";a.d(e,{bU:function(){return n},j1:function(){return r}});var i=a(9755);let{setGlobalState:n,useGlobalState:r}=(0,i.r)({allItems:[]})},501:function(t,e,a){"use strict";a.d(e,{Z:function(){return s}});var i=a(5893),n=a(215);let r=()=>(0,i.jsx)("div",{className:"loader__container",children:(0,i.jsx)(n.Z,{size:"88px",color:"#3a24c9"})});var s=r}},function(t){t.O(0,[795,908,774,888,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);